---
phase: 06-autonomous-execution-core
plan: 06
type: execute
wave: 1
depends_on: []
files_modified:
  - get-shit-done/bin/gsd-tools.js
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "User can run /gsd:execute-roadmap and initialization succeeds"
    - "gsd-tools.js responds to 'init execute-roadmap' with valid JSON"
    - "Repo copy of gsd-tools.js matches working copy for this function"
  artifacts:
    - path: "get-shit-done/bin/gsd-tools.js"
      provides: "cmdInitExecuteRoadmap function and init case handler"
      contains: "cmdInitExecuteRoadmap"
  key_links:
    - from: "workflows/execute-roadmap.md"
      to: "bin/gsd-tools.js"
      via: "init execute-roadmap command"
      pattern: "init execute-roadmap"
---

<objective>
Sync cmdInitExecuteRoadmap function to repository copy of gsd-tools.js.

Purpose: Close verification gap - the workflow works (references working copy) but repo copy is out of sync.
Output: Repository copy of gsd-tools.js has the init execute-roadmap command.
</objective>

<execution_context>
@/Users/ollorin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ollorin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-autonomous-execution-core/06-VERIFICATION.md
</context>

<gap_analysis>
**Verification Gap:** Missing init execute-roadmap command in gsd-tools.js

**Root Cause:** The repository copy at `/Users/ollorin/get-shit-done/get-shit-done/bin/gsd-tools.js` is 518 lines behind the working copy at `/Users/ollorin/.claude/get-shit-done/bin/gsd-tools.js`.

**Why workflow works anyway:** The execute-roadmap.md workflow uses absolute path to working copy (`/Users/ollorin/.claude/get-shit-done/bin/gsd-tools.js`) which HAS the function.

**Why fix needed:** Repository hygiene - repo copy should match working copy for this function.

**Solution:** Copy `cmdInitExecuteRoadmap` function and case handler from working copy to repo copy.
</gap_analysis>

<tasks>

<task type="auto">
  <name>Task 1: Add cmdInitExecuteRoadmap function to repo gsd-tools.js</name>
  <files>get-shit-done/bin/gsd-tools.js</files>
  <action>
Add the cmdInitExecuteRoadmap function to the repository copy of gsd-tools.js.

**Source:** Copy from `/Users/ollorin/.claude/get-shit-done/bin/gsd-tools.js` lines 4264-4404

**Function signature:**
```javascript
function cmdInitExecuteRoadmap(cwd, raw) {
  // Check ROADMAP.md exists
  // Parse roadmap to get phases
  // Build execution order
  // Find next executable phases
  // Check for execution log and resume state
  // Output JSON with:
  //   roadmap_exists, total_phases, execution_order,
  //   parallel_opportunities, next_executable, blocked_phases,
  //   has_execution_log, resume_state, coordinator_model
}
```

**Add case handler in init switch statement:**
```javascript
case 'execute-roadmap':
  cmdInitExecuteRoadmap(cwd, raw);
  break;
```

**Location:** Add function near other cmdInit* functions. Add case in the 'init' switch block.
  </action>
  <verify>
```bash
# Test init command from repo copy
node /Users/ollorin/get-shit-done/get-shit-done/bin/gsd-tools.js init execute-roadmap
# Should return JSON with roadmap_exists, total_phases, etc.

# Verify function exists
grep "cmdInitExecuteRoadmap" /Users/ollorin/get-shit-done/get-shit-done/bin/gsd-tools.js
```
  </verify>
  <done>
Repository copy of gsd-tools.js responds to `init execute-roadmap` with valid JSON containing roadmap_exists, total_phases, execution_order, next_executable, blocked_phases, has_execution_log, resume_state, and coordinator_model fields.
  </done>
</task>

</tasks>

<verification>
- `node get-shit-done/bin/gsd-tools.js init execute-roadmap` returns valid JSON
- JSON includes: roadmap_exists (boolean), total_phases (number), execution_order (array)
- JSON includes: next_executable (array), blocked_phases (array)
- JSON includes: has_execution_log (boolean), resume_state (object|null), coordinator_model (string)
- Verification gap in 06-VERIFICATION.md is resolved
</verification>

<success_criteria>
- Repository copy of gsd-tools.js has cmdInitExecuteRoadmap function
- Init command returns same output as working copy
- Verification can be re-run and pass without gaps
</success_criteria>

<output>
After completion, create `.planning/phases/06-autonomous-execution-core/06-06-SUMMARY.md`
</output>
